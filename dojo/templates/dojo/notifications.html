{% extends "base.html" %}
{% load static from staticfiles %}
{% load event_tags %}
{% block add_css %}
    <link rel="stylesheet" href="{% static "chosen-bootstrap/chosen.bootstrap.min.css" %}">
{% endblock %}

{% block content %}
    <h3> Notification Settings </h3>
    <form class="form-horizontal col-sm-10" method="post">{% csrf_token %}
        <div class="container" style="width:50%">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>Event</th><th>Slack</th><th>Mail</th>
                    </tr>
                </thead>
                <tbody>
                {% for field in form.visible_fields %}
                    {% if field.auto_id %}
                        <tr>
                            <td>{{ field.label }}{% if field.field.required%}<sup>*</sup>{% endif %}
                                    {% if field.help_text %}
                                        <i class="fa fa-question-circle has-popover" data-trigger="hover" data-content="{{ field.help_text }}" data-placement="right" data-container="body">
                                        </i>
                                    {% endif %}
                            </td>
                    {% endif %}
                    {% for pk,c in field.field.widget.choices %}
                        <td class="{{ classes.value }} {% if field|is_multiple_checkbox %}multiple-checkbox{% endif %}">
                            <input type="checkbox" name="{{ field.name }}" {% if c in field.value %}checked{% endif %} value="{{ c }}"/>
                        </td>
                    {% endfor %}
                    </tr>
                {% endfor %}
            </table>
            <div class="col-sm-offset-10">
                <input class="btn btn-primary" type="submit" name="edit_notifications" value="Submit"/>
            </div>
        </div>
    </form>
{% endblock %}
